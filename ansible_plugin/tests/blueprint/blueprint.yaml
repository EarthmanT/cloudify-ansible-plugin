tosca_definitions_version: cloudify_dsl_1_0

imports:
    - http://www.getcloudify.org/spec/cloudify/3.1/types.yaml
    - test_plugin.yaml

inputs:
    manager_ip:
        type: string
    package_name:
        default: "ansible"
        type: string

    package_manager_name:
        default: "apt-get"
        type: string
        
node_templates:
    ansible_manager:
        type: cloudify.nodes.ApplicationModule
        interfaces:
            cloudify.interfaces.lifecycle:
                create:
                    implementation: ansible.ansible_plugin.install.install_package
                    inputs:
                        package: { get_input: package_name }
                        package_manager: { get_input: package_manager_name }
